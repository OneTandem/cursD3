<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Barchart by @vpascual</title>
	<script src="https://d3js.org/d3.v5.min.js"></script>
</head>
<body>
	<div id="viz"></div>
	<script type="text/javascript">
        // D3 code
		var data = [18, 20, 25, 34, 100];
		var scale = d3.scaleLinear()			
			.range([0, 400]);

		function update(data) {
			var bar = d3.select("#viz").selectAll("div").data(data);

			scale.domain([0, d3.max(data)])

			bar.enter()
				.append("div")					
				.style("width", (d) => { 0 + "px"; })
				.merge(bar)
					.style("background-color", "steelblue")
					.transition()
						.duration(1000)
						.style("width", (d) => { return scale(d) + "px"; })
						.text((d) => { return d; })
				
			bar.exit()
				.transition()
				.duration(1000)
				.style("opacity", 0)
				.remove();
		}

		update(data);
    </script>
</body>
</html>